<html>
    <head>
        <meta charset="utf-8">
        <style>
            canvas {
                border: 5px solid black; 
            }
        </style>
    </head> 
    <body>
        <h1>Polynomial Graphing Calculator</h1>
        <canvas id="canvas" height="1000px" width="1000px"></canvas>

        <h2>Input</h2>

        <div id="showEqu"></div>

        <p>
            <label>Equation One</label>
            <select id="graph1">
                <option value="intersectForm">a(x - b)</option>
                <option value="basicForm">ax + b<option>
            </select>

            <div id="input1">
                <label>a:  </label>
                <input id="a1" type="number" min="-10" max="10">

                <label>b:  </label>
                <input id="b1" type="number" min="-10" max="10">

            </div>
        </p>

        <p>
            <label>Equation Two</label>
            <select id="graph2">
                <option value="intersectForm">a(x - b)</option>
                <option value="basicForm">ax + b<option>
            </select>

            <div id="input2">
                <label>a:  </label>
                <input id="a2" type="number" min="-10" max="10">

                <label>b:  </label>
                <input id="b2" type="number" min="-10" max="10">
            </div>
        </p>

        <p>
            <button onclick="run()">Graph</button>
        </p>

    </body>
    <script>

        function collectConstants(aID, bID, graphID) {
            //Collects input from user when submit button pushed
            //Returns array of arrays with slope, x-intercept, and constant value for the linear equations
            let a = parseInt( document.getElementById(aID).value );
            let b = parseInt( document.getElementById(bID).value );
            let code = document.getElementById(graphID).value;

            if(code === 'intersectForm') {
                return [a, a*b];
            } else {
                return [a, b];
            }

        }

        function calcQuad(lin1, lin2) {
            //Inputs are two arrays with two values a then b in basic form.
            //Output is an array with three values a, b and c for y = ax^2 + bx + c
            let a = lin1[0]*lin2[0];
            let b = lin1[0]*lin2[1] + lin1[1]*lin2[0];
            let c = lin1[1]*lin2[1];

            return [ a, b, c];
        }
        
        function findCenter() {
            //Takes in the equation values and determins where the center should be.
            //Returns an array with two values

            
        }
        
        function axisLines(cx, cy, ident) {
            let pnt = document.getElementById(ident);
            let can = pnt.getContext('2d');

            can.strokeStyle = '#000000';
            can.moveTo(0, cy);
            can.lineTo(1000, cy);
            can.stroke();

            can.moveTo(cx, 0);
            can.lineTo(cx, 1000);
            can.stroke();

        }

        

        function basicLine(a, b, ident) {
            let pnt = document.getElementById(ident);
            let can = pnt.getContext('2d');

            can.fillStyle = "#89cff0";

            for (i = 3; i < 1000; i = i + 3) {
                let x = i - 500;
                let y = -0.1*x + 500;
                can.fillRect(i, y, 2, 2);
            }
        }

        axisLines(500, 500, 'canvas');

        function run(){
            let eq1 = collectConstants('a1', 'b1', 'graph1');
            let eq2 = collectConstants('a2', 'b2', 'graph2');
            
            //Sanatize
            let san = eq1.concat(eq2);
            let doom = san.every( function (e0){ return Number.isNaN(e0) !== true});
            if (doom !== true) {
                console.log("Weeding out the NaNs");
                return
            }

            basicLine(eq1[0], eq1[1]);
            basicLine(eq2[0], eq2[1]);

            let quad = calcQuad(eq1, eq2);
            
        }
       
        
        

    </script>
</html>